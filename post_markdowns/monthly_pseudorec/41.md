# Multi-agent system

# ë­ì²´ì¸ì—ì„œì˜ Multi-agent system

**ë‹¤ì¤‘ ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œ(Multi-agent system)**ì€ ë³µì¡í•œ ì‘ì—…ì„ ì—¬ëŸ¬ ê°œì˜ ì „ë¬¸í™”ëœ ì—ì´ì „íŠ¸ë¡œ ë‚˜ëˆ„ì–´ ë¬¸ì œë¥¼ ì²˜ë¦¬í•˜ëŠ” ê²ƒ. í•˜ë‚˜ì˜ ì—ì´ì „íŠ¸ê°€ ëª¨ë“  ë‹¨ê³„ë¥¼ ì²˜ë¦¬í•˜ëŠ” ëŒ€ì‹ , **ë‹¤ì¤‘ ì—ì´ì „íŠ¸ ì•„í‚¤í…ì²˜**ëŠ” ì‘ê³  ì „ë¬¸ì ì¸ ì—ì´ì „íŠ¸ë“¤ì„ ì¢…í•©í•˜ì—¬ ì›Œí¬í”Œë¡œìš°ë¥¼ êµ¬ì„±í•œë‹¤.

ë‹¤ì¤‘ ì—ì´ì „íŠ¸ê°€ ìœ ìš©í•œ ê²½ìš°:

- í•˜ë‚˜ì˜ ì—ì´ì „íŠ¸ì— ë„ˆë¬´ ë§ì€ ë„êµ¬ê°€ ì£¼ì–´ì ¸ ì ì ˆí•œ ì„ íƒì„ ëª» í•˜ëŠ” ê²½ìš°
- ì»¨í…ìŠ¤íŠ¸ë‚˜ ë©”ëª¨ë¦¬ ì†Œìš”ê°€ ë„ˆë¬´ ì»¤ í•œ ì—ì´ì „íŠ¸ê°€ íš¨ìœ¨ì ìœ¼ë¡œ ì¶”ì í•˜ê¸° ì–´ë ¤ìš´ ê²½ìš°
- ì‘ì—…ì— **ì „ë¬¸í™”**ê°€ í•„ìš”í•œ ê²½ìš°(ì˜ˆ: í”Œë˜ë„ˆ, ì—°êµ¬, ìˆ˜í•™ ì „ë¬¸ê°€)

---

## ë‹¤ì¤‘ ì—ì´ì „íŠ¸ íŒ¨í„´

| íŒ¨í„´ | ë™ì‘ ë°©ì‹ | ì œì–´ íë¦„ | ì‚¬ìš©ë¡€ |
| --- | --- | --- | --- |
| **ë„êµ¬ í˜¸ì¶œ Tool Calling** | ê´€ë¦¬ì(supervisor) ì—ì´ì „íŠ¸ê°€ ë‹¤ë¥¸ ì—ì´ì „íŠ¸ë¥¼ "ë„êµ¬"ì²˜ëŸ¼ í˜¸ì¶œ. "ë„êµ¬" ì—ì´ì „íŠ¸ëŠ” ì‚¬ìš©ìì™€ ì§ì ‘ ëŒ€í™”í•˜ì§€ ì•Šê³  ê²°ê³¼ë§Œ ë°˜í™˜. | ì¤‘ì•™ì§‘ì¤‘ì‹: ëª¨ë“  ë¼ìš°íŒ…ì´ í˜¸ì¶œ ì—ì´ì „íŠ¸ë¥¼ í†µê³¼ | ì‘ì—… í¸ì„±, êµ¬ì¡°í™”ëœ ì›Œí¬í”Œë¡œìš° |
| **í•¸ë“œì˜¤í”„ Handoffs** | í˜„ì¬ ì—ì´ì „íŠ¸ê°€ **ë‹¤ë¥¸ ì—ì´ì „íŠ¸ë¡œ ì œì–´ë¥¼ ë„˜ê¹€**. í™œì„±í™”ëœ ì—ì´ì „íŠ¸ê°€ ë°”ë€Œë©°, ì‚¬ìš©ìëŠ” ìƒˆ ì—ì´ì „íŠ¸ì™€ ì§ì ‘ ìƒí˜¸ì‘ìš©. | íƒˆì¤‘ì•™í™”: ì—ì´ì „íŠ¸ê°€ í™œì„± ì£¼ì²´ë¥¼ ë³€ê²½ | ë‹¤ì¤‘ ë„ë©”ì¸ ëŒ€í™”, ì „ë¬¸ê°€ ì¸ìˆ˜ |

<aside>
ğŸ“˜

íŠœí† ë¦¬ì–¼: ê´€ë¦¬ì ì—ì´ì „íŠ¸ ë§Œë“¤ê¸°

- ì„œë¡œ ë‹¤ë¥¸ ì˜ì—­ì— íŠ¹í™”ëœ ì„œë¸Œì—ì´ì „íŠ¸ë¥¼ ì¡°ì •í•˜ëŠ” ì¤‘ì•™ ê´€ë¦¬ì ë§Œë“¤ê¸°
- ì„œë¸Œì—ì´ì „íŠ¸ë¥¼ ë„êµ¬ë¡œ ê°„ì£¼í•˜ì—¬ ì¤‘ì•™ì—ì„œ ì‘ì—… í¸ì„±
- ë¯¼ê°í•œ ì•¡ì…˜ì— ëŒ€í•œ human-in-the-loop ì¶”ê°€

[íŠœí† ë¦¬ì–¼ ë³´ê¸°](https://docs.langchain.com/oss/python/langchain/supervisor)

</aside>

---

## íŒ¨í„´ ì„ íƒ ê°€ì´ë“œ

- ì›Œí¬í”Œë¡œìš°ì— ëŒ€í•œ **ì¤‘ì•™ì§‘ì¤‘ ì œì–´**ê°€ í•„ìš”í•˜ë©´: Tool Callingì´ ì í•©
- ì—ì´ì „íŠ¸ê°€ ì‚¬ìš©ìì™€ **ì§ì ‘ ìƒí˜¸ì‘ìš©**í•´ì•¼ í•˜ë©´: Handoffsê°€ ì í•©
- ì „ë¬¸ ì—ì´ì „íŠ¸ ì‚¬ì´ì— **ë³µì¡í•œ ëŒ€í™”**ê°€ í•„ìš”í•˜ë©´: Handoffsê°€ ê°•ì 

ë‘˜ì„ í˜¼í•©í•  ìˆ˜ë„ ìˆìŒ. ì—ì´ì „íŠ¸ ì „í™˜ì—ëŠ” **í•¸ë“œì˜¤í”„**, ê° ì—ì´ì „íŠ¸ ë‚´ë¶€ì˜ íŠ¹í™” ì‘ì—…ì—ëŠ” **íˆ´ í˜¸ì¶œ**ì„ ì‚¬ìš©í•˜ëŠ” ì‹.

---

## ì—ì´ì „íŠ¸ ì»¨í…ìŠ¤íŠ¸ ì»¤ìŠ¤í† ë§ˆì´ì§•

ë‹¤ì¤‘ ì—ì´ì „íŠ¸ ì„¤ê³„ì˜ í•µì‹¬ì€ **ì»¨í…ìŠ¤íŠ¸ ì—”ì§€ë‹ˆì–´ë§**. ì»¨í…ìŠ¤íŠ¸ ì—”ì§€ë‹ˆì–´ë§ì´ë€ ê° ì—ì´ì „íŠ¸ê°€ ë³¼ ì •ë³´ ë²”ìœ„ë¥¼ ì •í•˜ëŠ” ê²ƒì„ ë§í•œë‹¤. ë­ì²´ì¸ì—ì„œëŠ” ì•„ë˜ì™€ ê°™ì€ ì‚¬í•­ë“¤ì„ ê°œë°œìê°€ í†µì œí•  ìˆ˜ ìˆìŒ

- ì–´ë–¤ ëŒ€í™”ë‚˜ ìƒíƒœë¥¼ ì–´ë–¤ ì—ì´ì „íŠ¸ì— ì „ë‹¬í• ì§€
- ì„œë¸Œì—ì´ì „íŠ¸ ì „ìš© í”„ë¡¬í”„íŠ¸
- ì¤‘ê°„ ì¶”ë¡  í¬í•¨ ì—¬ë¶€
- ì—ì´ì „íŠ¸ë³„ ì…ë ¥ê³¼ ì¶œë ¥ ì–‘ì‹

ì‹œìŠ¤í…œì˜ ì„±ëŠ¥ì€ ì»¨í…ìŠ¤íŠ¸ ì„¤ê³„ì— í¬ê²Œ ì¢Œìš°ë¨. ê° ì—ì´ì „íŠ¸ê°€ ë„êµ¬ ì—­í• ì´ë“ , í™œì„±í™”ëœ ì—ì´ì „íŠ¸ë“  ìì‹ ì˜ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ë° í•„ìš”í•œ ì •í™•í•œ ë°ì´í„°ë¥¼ ë³´ë„ë¡ í•˜ëŠ” ê²ƒì´ ìš°ë¦¬ì˜ ëª©í‘œ.

---

## í•¸ë“œì˜¤í”„ Handoffs

ì—ì´ì „íŠ¸ ì‚¬ì´ì— í†µì œê¶Œì´ ì§ì ‘ ë„˜ì–´ê°€ëŠ” êµ¬ì¡°. í™œì„±í™”ëœ ì—ì´ì „íŠ¸ê°€ ë°”ë€Œë©´ ì‚¬ìš©ìëŠ” ìƒˆ ì—ì´ì „íŠ¸ì™€ ì§ì ‘ ìƒí˜¸ì‘ìš©.

![image.png](/static/img/monthly_pseudorec_mcp/41/image.png)

íë¦„:

1. **í˜„ì¬ ì—ì´ì „íŠ¸**ê°€ ë‹¤ë¥¸ ì—ì´ì „íŠ¸ì˜ ë„ì›€ì´ í•„ìš”í•˜ë‹¤ê³  íŒë‹¨
2. ìƒíƒœì™€ í•¨ê»˜ **ë‹¤ìŒ ì—ì´ì „íŠ¸**ë¡œ í†µì œê¶Œì„ ì „ë‹¬
3. **ìƒˆ ì—ì´ì „íŠ¸**ê°€ ì‚¬ìš©ìë¥¼ ì§ì ‘ ìƒëŒ€í•˜ë©°, ë‹¤ì‹œ í•¸ë“œì˜¤í”„í•˜ê±°ë‚˜ ì¢…ë£Œ

í•¸ë“œì˜¤í”„ëŠ” êµ¬í˜„ íŒŒíŠ¸ê°€ ì•„ì§ ì‘ì„±ë˜ì§€ ì•ŠìŒ

---

## ë„êµ¬ í˜¸ì¶œ (Tool Calling)

íˆ´ í˜¸ì¶œì—ì„œëŠ” í•˜ë‚˜ì˜ **ì»¨íŠ¸ë¡¤ëŸ¬** ì—ì´ì „íŠ¸ê°€ ë‹¤ë¥¸ ì—ì´ì „íŠ¸ë¥¼ ë„êµ¬ë¡œ í˜¸ì¶œí•¨. ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ì‘ì—… í¸ì„±(orchestration)ì„ ë‹´ë‹¹í•˜ê³ , ë„êµ¬ ì—ì´ì „íŠ¸ëŠ” íŠ¹ì • ì‘ì—…ì„ ìˆ˜í–‰í•´ ê²°ê³¼ë¥¼ ë°˜í™˜.

![image.png](/static/img/monthly_pseudorec_mcp/41/image 1.png)

íë¦„:

1. **ì»¨íŠ¸ë¡¤ëŸ¬**ê°€ ì…ë ¥ì„ ë°›ê³  í˜¸ì¶œí•  ë„êµ¬(ì„œë¸Œì—ì´ì „íŠ¸)ë¥¼ ê²°ì •
2. **ë„êµ¬ ì—ì´ì „íŠ¸**ê°€ ì§€ì‹œì— ë”°ë¼ ì‘ì—…ì„ ìˆ˜í–‰
3. **ë„êµ¬ ì—ì´ì „íŠ¸**ê°€ ê²°ê³¼ë¥¼ ë°˜í™˜
4. **ì»¨íŠ¸ë¡¤ëŸ¬**ê°€ ë‹¤ìŒ ë‹¨ê³„ë¥¼ ê²°ì •í•˜ê±°ë‚˜ ì¢…ë£Œ

ë„êµ¬ë¡œ ì‚¬ìš©ë˜ëŠ” ì—ì´ì „íŠ¸ëŠ” ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ìì™€ ëŒ€í™”í•˜ì§€ ì•ŠëŠ”ë‹¤. ì‚¬ìš©ìì™€ì˜ ëŒ€í™”ê°€ í•„ìš”í•˜ë©´ **í•¸ë“œì˜¤í”„** ë°©ì‹ì„ ì‚¬ìš©

### Python êµ¬í˜„

ì•„ë˜ëŠ” ë©”ì¸ ì—ì´ì „íŠ¸ê°€ ë„êµ¬ ì •ì˜ë¥¼ í†µí•´ì„œ í•˜ë‚˜ì˜ ì„œë¸Œì—ì´ì „íŠ¸ì— ì ‘ê·¼í•˜ëŠ” ì˜ˆì‹œ

```python
from [langchain.tools](http://langchain.tools) import tool
from langchain.agents import create_agent

subagent1 = create_agent(model="...", tools=[...])

@tool(
    "subagent1_name",
    description="subagent1_description"
)
def call_subagent1(query: str):
    result = subagent1.invoke({
        "messages": [{"role": "user", "content": query}]
    })
    return result["messages"][-1].content

agent = create_agent(model="...", tools=[call_subagent1])
```

ì´ ë°©ì‹ì—ì„œ:

1. ì£¼ì–´ì§„ ì‘ì—…ì´ ì„œë¸Œì—ì´ì „íŠ¸ ì„¤ëª…(`"subagent1_description"`)ì— ë¶€í•©í•œë‹¤ê³  íŒë‹¨ë˜ë©´, ë©”ì¸ ì—ì´ì „íŠ¸ëŠ” `call_subagent1`ì„ í˜¸ì¶œ.
2. ì„œë¸Œì—ì´ì „íŠ¸ëŠ” ë…ë¦½ì ìœ¼ë¡œ ì‹¤í–‰ë˜ì–´ ê²°ê³¼ë¥¼ ë°˜í™˜.
3. ë©”ì¸ ì—ì´ì „íŠ¸ëŠ” ê²°ê³¼ë¥¼ ë°›ì•„ ë‹¤ìŒ ë‹¨ê³„ë¥¼ ì§„í–‰.

### ì»¤ìŠ¤í† ë§ˆì´ì§• í•  ìˆ˜ ìˆëŠ” ë¶€ë¶„

1. **ì„œë¸Œì—ì´ì „íŠ¸ ì´ë¦„**(`"subagent1_name"`): í”„ë¡¬í”„íŠ¸ì— ì˜í–¥ì„ ì£¼ë¯€ë¡œ ì´ë¦„ì„ ì˜ ê³ ë¥´ê¸°ë¥¼ ê¶Œì¥.
2. **ì„œë¸Œì—ì´ì „íŠ¸ ì„¤ëª…**(`"subagent1_description"`): ë©”ì¸ ì—ì´ì „íŠ¸ê°€ ì–¸ì œ í˜¸ì¶œí• ì§€ íŒë‹¨í•˜ëŠ” í•µì‹¬ ë‹¨ì„œ. ë©”ì¸ ì—ì´ì „íŠ¸ê°€ ì„œë¸Œì—ì´ì „íŠ¸ë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒì— ì§ì ‘ì ì¸ ì˜í–¥ì„ ë¼ì¹¨
3. **ì„œë¸Œì—ì´ì „íŠ¸ ì¸í’‹**: ìœ„ì˜ ì˜ˆì‹œì²˜ëŸ¼ ë©”ì¸ ì—ì´ì „íŠ¸ê°€ ìƒì„±í•œ `query`ë¥¼ ê·¸ëŒ€ë¡œ ë„˜ê²¨ë„ ë˜ì§€ë§Œ, ì„œë¸Œì—ì´ì „íŠ¸ê°€ ì‘ì—…ì„ í•´ì„í•˜ê¸° ìš©ì´í•˜ë„ë¡ ì ì ˆí•œ ê°€ê³µë„ ê°€ëŠ¥.
4. **ì„œë¸Œì—ì´ì „íŠ¸ ì•„ì›ƒí’‹**: ìœ„ì˜ ì˜ˆì‹œì²˜ëŸ¼ ìµœì¢… í…ìŠ¤íŠ¸ë§Œ ë°˜í™˜í•´ë„ ë˜ì§€ë§Œ, ë©”ì¸ ì—ì´ì „íŠ¸ì˜ ì´í•´ë¥¼ ë„ìš¸ ìˆ˜ ìˆëŠ” ìƒíƒœ/ë©”íƒ€ë°ì´í„°ë¥¼ í•¨ê»˜ ë°˜í™˜í•˜ë„ë¡ ì¡°ì • ê°€ëŠ¥.

### ì„œë¸Œì—ì´ì „íŠ¸ì— ì „ë‹¬í•˜ëŠ” ì¸í’‹ ì¡°ì •

ë©”ì¸ ì—ì´ì „íŠ¸ì—ì„œ ì„œë¸Œ ì—ì´ì „íŠ¸ë¡œ ì¸í’‹ì„ ë„˜ê¸¸ ë•Œ, ë‹¤ìŒê³¼ ê°™ì€ 2ê°€ì§€ ì§€ì ì—ì„œ í†µì œë¥¼ ê°€í•  ìˆ˜ ìˆë‹¤

- **í”„ë¡¬í”„íŠ¸ ìˆ˜ì •**: ë©”ì¸ í”„ë¡¬í”„íŠ¸ë‚˜ ë„êµ¬ ë©”íƒ€ë°ì´í„°(ì´ë¦„, ì„¤ëª…)ë¥¼ ì¡°ì •í•´ í˜¸ì¶œ íƒ€ì´ë°ê³¼ ë°©ì‹ì„ ìœ ë„
- **ì»¨í…ìŠ¤íŠ¸ ì£¼ì…**: ëŒ€í™” ì´ë ¥, ì„ í–‰ ê²°ê³¼, ì‘ì—… ë©”íƒ€ë°ì´í„° ë“±ì„ ê³ ì •ëœ í”„ë¡¬í”„íŠ¸ì—ì„œëŠ” ì–»ì–´ë‚´ê¸° í˜ë“  ì •ë³´ë¥¼ ì»¨í…ìŠ¤íŠ¸ë¡œ ì¶”ê°€

```python
from langchain.agents import AgentState
from [langchain.tools](http://langchain.tools) import tool, ToolRuntime

class CustomState(AgentState):
    example_state_key: str

@tool(
    "subagent1_name",
    description="subagent1_description"
)
def call_subagent1(query: str, runtime: ToolRuntime[None, CustomState]):
    # ì¿¼ë¦¬ ë©”ì„¸ì§€ë¥¼ ì ì ˆí•œ ì¸í’‹ìœ¼ë¡œ ìˆ˜ì •í•˜ëŠ” ì–´ë–¤ ë¡œì§
    subagent_input = some_logic(query, runtime.state["messages"])
    result = subagent1.invoke({
        "messages": subagent_input,
        # í•„ìš”í•œ ê²½ìš° ë‹¤ë¥¸ ìƒíƒœ í‚¤ë„ ì „ë‹¬ ê°€ëŠ¥
        # ìƒíƒœ í‚¤ì˜ ê²½ìš° ë©”ì¸ ì—ì´ì „íŠ¸ì™€ ì„œë¸Œì—ì´ì „íŠ¸ì˜ ìŠ¤í‚¤ë§ˆì— ì¶”ê°€í•˜ëŠ” ê²ƒ ìŠì§€ ë§ ê²ƒ
        "example_state_key": runtime.state["example_state_key"]
    })
    return result["messages"][-1].content
```

### ì„œë¸Œì—ì´ì „íŠ¸ì˜ ì•„ì›ƒí’‹ ì¡°ì •

ì„œë¸Œì—ì´ì „íŠ¸ì˜ ì•„ì›ƒí’‹ì„ ë©”ì¸ ì—ì´ì „íŠ¸ì—ê²Œ ë„˜ê²¨ì¤„ ë•Œ, ë‘ ê°€ì§€ ì „ëµì„ ì‚¬ìš©í•œë‹¤

- **í”„ë¡¬í”„íŠ¸ ìˆ˜ì •**ìœ¼ë¡œ ìµœì¢… ë©”ì‹œì§€ì— í•„ìš”í•œ ì •ë³´ê°€ ëˆ„ë½ë˜ì§€ ì•Šê²Œ ìš”êµ¬
    - ì•„ì›ƒí’‹ì´ ë¶ˆì™„ì „í•˜ê±°ë‚˜, ë„ˆë¬´ ê¸¸ê±°ë‚˜, ì¤‘ìš”í•œ ì„¸ë¶€ì‚¬í•­ì„ ë†“ì¹˜ê¸° ì‰¬ìš¸ ë•Œ ì‚¬ìš©
    - ì˜ˆë¥¼ ë“¤ì–´, ì„œë¸Œ ì—ì´ì „íŠ¸ê°€ ë„êµ¬ë¥¼ í˜¸ì¶œí•˜ê±°ë‚˜ ì¶”ë¡ ì„ í•œ ë’¤ì— ì •ì‘ ë©”ì‹œì§€ì— ê²°ê³¼ê°’ì„ í¬í•¨ì‹œí‚¤ì§€ ì•ŠëŠ” ê²½ìš°ê°€ ìˆìŒ
- **ì»¤ìŠ¤í…€ ì•„ì›ƒí’‹ í¬ë§·íŒ…**ìœ¼ë¡œ í…ìŠ¤íŠ¸ ì™¸ ìƒíƒœ í‚¤ë¥¼ í•¨ê»˜ ë°˜í™˜í•˜ë„ë¡ ê°ì‹¸ê¸°
    - ì˜ˆë¥¼ ë“¤ì–´, ìµœì¢… ë©”ì‹œì§€ì™€ í•¨ê»˜ íŠ¹ì •í•œ ìƒíƒœê°’ì„ ë°˜í™˜í•˜ë„ë¡ í•¨
    - ë­ì²´ì¸ì—ì„œëŠ” Commandë¼ëŠ” êµ¬ì¡°ë¥¼ í†µí•´ stateì™€ ë©”ì‹œì§€ë¥¼ í•¨ê»˜ ë°˜í™˜í•  ìˆ˜ ìˆìŒ

```python
from typing import Annotated
from langchain.agents import AgentState
from [langchain.tools](http://langchain.tools) import InjectedToolCallId
from langgraph.types import Command

@tool(
    "subagent1_name",
    description="subagent1_description"
)
# ì„œë¸Œì—ì´ì „íŠ¸ê°€ ë„êµ¬ í˜¸ì¶œ ê²°ê³¼ë¡œ ì‘ë‹µí•  ìˆ˜ ìˆë„ë¡ tool_call_id ì „ë‹¬

def call_subagent1(
    query: str,
    tool_call_id: Annotated[str, InjectedToolCallId],
    # í…ìŠ¤íŠ¸ ì´ìƒì˜ ë‚´ìš©ì„ ë°˜í™˜í•˜ë ¤ë©´ Command ê°ì²´ë¥¼ ë°˜í™˜í•´ì•¼ í•¨
) -> Command:
    result = subagent1.invoke({
        "messages": [{"role": "user", "content": query}]
    })
    return Command(update={
        # ë©”ì¸ ì—ì´ì „íŠ¸ì— ë°˜í™˜í•  ìƒíƒœ í‚¤ ì˜ˆì‹œ
        "example_state_key": result["example_state_key"],
        "messages": [
            ToolMessage(
                content=result["messages"][-1].content,
                # ì˜¬ë°”ë¥¸ ë„êµ¬ í˜¸ì¶œê³¼ ë§¤ì¹­ì„ ìœ„í•´ tool_call_idë¥¼ í¬í•¨
                tool_call_id=tool_call_id
            )
        ]
    })
```

---

# Multi-agent Debate Strategy (ì •ë¦¬ ì¤‘â€¦)

ì—¬ëŸ¬ ê°œì˜ ì—ì´ì „íŠ¸ë“¤ì´ í† ë¡ ê³¼ í•©ì˜ë¥¼ í†µí•´ ê²°ì •ì„ ë‚´ë¦¬ëŠ” ì „ëµ. 

ì¼ì¢…ì˜ 'ì§‘ë‹¨ ì§€í˜œ'ë¡œ, ê°œë³„ LLMì´ ê°€ì§ˆ ìˆ˜ ìˆëŠ” ë¬´ì‘ìœ„ì„±ì´ë‚˜ í™˜ê° í˜„ìƒì´ ì™„í™”ë˜ë©°, í•©ì˜ ê°’ì˜ ë¶„ì‚°(Variance)ì´ ê°ì†Œí•˜ê³  ì‹œìŠ¤í…œì˜ ê²°ê³¼ê°€ ì´ˆê¸° í‰ê· ê°’ì— ë” ê°€ê¹Œì›Œì§€ëŠ” ë“± ê²°ê³¼ì˜ ì•ˆì •ì„±ì´ ë†’ì•„ì§

### í•µì‹¬ ì›ì¹™ê³¼ ì•„í‚¤í…ì²˜ íŒ¨í„´

MAD ì‹œìŠ¤í…œì€ í¬ê²Œ 3ê°œì˜ êµ¬ì„± ìš”ì†Œë¡œ ì´ë£¨ì–´ì§„ë‹¤

- ì—ì´ì „íŠ¸(í† ë¡ ì): ë‘˜ ì´ìƒì˜ LLM ì—ì´ì „íŠ¸ê°€ ë…ë¦½ì ìœ¼ë¡œ ì£¼ì¥ì´ë‚˜ í•´ë²•ì„ ìƒì„±í•˜ê³ , ë°˜ë³µì ìœ¼ë¡œ ì„œë¡œì˜ ì¶œë ¥ì„ ë¹„í‰í•˜ë©° ê°œì„ . ì—­í• ì€ ì°¬ì„±/ë°˜ëŒ€, ì²œì‚¬/ì•…ë§ˆ í˜ë¥´ì†Œë‚˜, ë„ë©”ì¸ ì „ë¬¸ê°€ ë“±ìœ¼ë¡œ ëª…ì‹œë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì‹¬íŒ/ì¤‘ì¬ì: í† ë¡ ì„ ê´€ë¦¬í•˜ë©° ì •ë‹µì„± í‰ê°€, ìµœì¢… í•´ë²• ì¶”ì¶œ, ë¶ˆì¼ì¹˜ê°€ ê³„ì†ë  ì‹œ íŒì •
- ìƒí˜¸ì‘ìš© í”„ë¡œí† ì½œ: ìˆœì°¨ êµëŒ€, ë¹„ë™ê¸° ë™ì‹œ ìƒí˜¸ì‘ìš©, í˜¹ì€ ì°¬ë°˜Â·ë°°ìš°-ë¹„í‰ê°€ ë“±ì˜ ê·œì¹™. ì•Œê³ ë¦¬ì¦˜ì€ ë¼ìš´ë“œë³„ë¡œ í† ë¡  ê¸°ë¡ì„ ê°±ì‹ í•˜ë©° ì ì‘ì  ì •ì§€ ì¡°ê±´ì— ë„ë‹¬í•  ë•Œê¹Œì§€ ë°˜ë³µ

### ë‹¤ì–‘í•œ ì˜ê²¬ê³¼ êµì •ì ì¸ ì¶”ë¡  ê³¼ì •

MADì—ì„œëŠ” ë‹¤ì–‘í•œ ì˜ê²¬ê³¼ robustí•œ ì—ëŸ¬ êµì •ì´ í•„ìš”.

- í‹°í‚¤íƒ€ì¹´ì‹(tit-for-tat) ë¶ˆì¼ì¹˜ ì „ëµ: ì˜ë„ì ì´ë˜ í†µì œëœ ìˆ˜ì¤€ì˜ ë¶ˆì¼ì¹˜ë¥¼ ìœ ë„. ì„œë¡œ ë‹¤ë¥¸ ì¶”ë¡  ê²½ë¡œë¥¼ íƒìƒ‰í•˜ì—¬ í¸í–¥ì„ êµì •
- ì—ì´ì „íŠ¸ ì´ê¸°ì¢…ì„±(Agent Heterogeneity): ì„œë¡œ ë‹¤ë¥¸ ê¸°ë°˜ ëª¨ë¸ì´ë‚˜ ì•„í‚¤í…ì²˜ë¥¼ ì¡°í•©í•˜ë©´ ë™ì¢… ì¡°í•© ëŒ€ë¹„ ì •í™•ë„ê°€ í¬ê²Œ í–¥ìƒí•˜ê³ , êµì‚¬â€‘í•™ìƒê³¼ ê°™ì€ ìƒí˜¸ì‘ìš©ì´ ë‚˜íƒ€ë‚¨.
- ì™¸ë¶€ ì§€ì‹ í†µí•©: MADKE ê°™ì€ í”„ë ˆì„ì›Œí¬ëŠ” ìœ„í‚¤í”¼ë””ì•„Â·ê²€ìƒ‰ ë“± ì™¸ë¶€ ì¦ê±°ë¥¼ ê²€ìƒ‰Â·ê³µìœ í•˜ê³ , ê° ì—ì´ì „íŠ¸ê°€ ì¦ê±° ì„­ì·¨ë¥¼ ì ì‘ì ìœ¼ë¡œ ì„ íƒí•´ ë‹¤ë‹¨ê³„ ì¶”ë¡ ì˜ ì¼ê´€ì„±ì„ ë†’ì„.
- ì ì§„ì  ê²½ê³„ì™€ ì—­í•  ìŠ¤í™íŠ¸ëŸ¼: ìœ„í—˜ íƒœë„ë¥¼ ì €ê²½ê³„â†”ê³ ê²½ê³„ë¡œ ì ì§„ ë°°ì¹˜í•˜ê³ , ê°„í—ì  ìƒí˜¸êµì‹ ì„ ë”í•´ ìœ ìš©ì„±ê³¼ ì•ˆì „ì„±ì˜ ê· í˜•ì„ ê°œì„ í•©ë‹ˆë‹¤.

### í† ë¡  ë™ì—­í•™, í† í´ë¡œì§€, íš¨ìœ¨ì„±

- í¬ì†Œ í†µì‹  í† í´ë¡œì§€: ì™„ì „ ì—°ê²° ëŒ€ì‹  ì´ì›ƒ ì—°ê²° ë“± í¬ì†Œ êµ¬ì¡°ë¥¼ ì‚¬ìš©í•´ ëˆ„ê°€ ëˆ„êµ¬ì˜ ì¶œë ¥ì„ ë°›ëŠ”ì§€ ì œí•œí•¨ìœ¼ë¡œì¨ ì»¨í…ìŠ¤íŠ¸ ê¸¸ì´ì™€ í† í° ë¹„ìš©ì„ ì¤„ì´ë©´ì„œë„ ì •í™•ë„ë¥¼ ìœ ì§€í•©ë‹ˆë‹¤.
- ë™ì  í† ë¡  ê·¸ë˜í”„: ì‹ ê²½ê³¼í•™ ì˜ê°ì„ ë°›ì€ CortexDebateëŠ” ì´ì „ ë¼ìš´ë“œì— ê°€ì¥ ìœ ìµí–ˆë˜ ìƒí˜¸ì‘ìš©ë§Œ ìœ ì§€í•˜ë„ë¡ ê·¸ë˜í”„ë¥¼ ì¬êµ¬ì„±í•˜ë©°, ì‹ ë¢° ê³µì‹ì„ í†µí•´ ìµœì í™”í•©ë‹ˆë‹¤.
- í¬ì†Œí™”Â·ì¡°ê±´ë¶€ ì°¸ì—¬(SÂ²â€‘MAD): ìœ ì‚¬ë„ ê³„ì‚°ê³¼ ì¤‘ë³µ ì œê±°, ì„ íƒì  ì°¸ì—¬ë¥¼ í†µí•´ ë¶ˆí•„ìš”í•œ êµí™˜ì„ ê±¸ëŸ¬ë‚´ í† í° ë¹„ìš©ì„ í¬ê²Œ ì ˆê°í•˜ë©´ì„œ ì •í™•ë„ ì†ì‹¤ì„ ìµœì†Œí™”í•©ë‹ˆë‹¤.[[1]](https://www.emergentmind.com/topics/multi-agent-debate-mad-strategies)

### ì•ˆì „ì„±, ì •ë ¬, ì ëŒ€ì  ê°•ê±´ì„±

- ì•ˆì „ ì •ë ¬: ì—ì´ì „íŠ¸ ê°„ ìƒí˜¸ ê²€í† ì™€ ë ˆë“œíŒ€ì‹ í† ë¡ ìœ¼ë¡œ ì•ˆì „ì„± ì´ìŠˆë¥¼ ìê°€ ì‹ë³„Â·ì™„í™”í•  ìˆ˜ ìˆìœ¼ë©°, ë‹¨ê¸°Â·ì¥ê¸° ë©”ëª¨ë¦¬ ê²°í•© ì‹œ ì„¸ì…˜ ê°„ ì•ˆì „ í”¼ë“œë°± ì „ì´ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.
- ì·¨ì•½ì : ì—­í•  ê¸°ë°˜ ë‹¤ì¤‘ ë¼ìš´ë“œ ëŒ€í™” êµ¬ì¡°ëŠ” íƒˆì˜¥ ê³µê²© í‘œë©´ì„ ë„“í ìˆ˜ ìˆì–´, í•´ë¡œì›€ ì¦í­ê³¼ ë†’ì€ ê³µê²© ì„±ê³µë¥ ì´ ë³´ê³ ë©ë‹ˆë‹¤. ëŒ€ì‘ìœ¼ë¡œ í† ë¡  ì¤‘ ëª¨ë‹ˆí„°ë§, ì•™ìƒë¸” ê°€ë“œë ˆì¼, í”„ë¡¬í”„íŠ¸ ë³´ì •ì´ ê¶Œì¥ë©ë‹ˆë‹¤.[[](https://www.emergentmind.com/topics/multi-agent-debate-mad-strategies)

---

# TradingAgentsì—ì„œëŠ”â€¦

TradingAgentsì—ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì—­í• ë“¤ì´ ì¡´ì¬

- Analyst team: ë°ì´í„° ìˆ˜ì§‘ ë° 1ì°¨ ë¶„ì„ì„ ë‹´ë‹¹í•˜ëŠ” ì „ë¬¸ê°€ ê·¸ë£¹. Fundamentals, Sentiment, News, Technical analystì˜ 4ê°€ì§€ ì¢…ë¥˜
- Researcher team: ë¶„ì„ê°€ íŒ€ì˜ ë³´ê³ ì„œë¥¼ ë¹„íŒì ìœ¼ë¡œ ê²€í† í•˜ê³ , íˆ¬ì ê°€ì„¤ì„ ì‹¬í™”ì‹œí‚¤ëŠ” ì—­í• . Bullishì™€ Bearish researcherê°€ í† ë¡ 
- Trader agent: ë¶„ì„ê°€ íŒ€ì˜ ë³´ê³ ì„œì™€ ì—°êµ¬ì íŒ€ì˜ í† ë¡ ì„ ë°”íƒ•ìœ¼ë¡œ ìµœì¢…ì ì¸ ê±°ë˜ ì œì•ˆ
- Risk Manager: íŠ¸ë ˆì´ë” ì—ì´ì „íŠ¸ì˜ ê±°ë˜ì— ëŒ€í•œ ìœ„í—˜ì„ í‰ê°€í•˜ì—¬, ìµœì¢… ìŠ¹ì¸ì„ ë‚´ë¦¼

```python
def research_manager_node(state) -> dict:
        history = state["investment_debate_state"].get("history", "")
        market_research_report = state["market_report"]
        sentiment_report = state["sentiment_report"]
        news_report = state["news_report"]
        fundamentals_report = state["fundamentals_report"]

        investment_debate_state = state["investment_debate_state"]

        curr_situation = f"{market_research_report}\n\n{sentiment_report}\n\n{news_report}\n\n{fundamentals_report}"
        past_memories = memory.get_memories(curr_situation, n_matches=2)

        past_memory_str = ""
        for i, rec in enumerate(past_memories, 1):
            past_memory_str += rec["recommendation"] + "\n\n"

        prompt = f"""As the portfolio manager and debate facilitator, your role is to critically evaluate this round of debate and make a definitive decision: align with the bear analyst, the bull analyst, or choose Hold only if it is strongly justified based on the arguments presented.

											Summarize the key points from both sides concisely, focusing on the most compelling evidence or reasoning. Your recommendationâ€”Buy, Sell, or Holdâ€”must be clear and actionable. Avoid defaulting to Hold simply because both sides have valid points; commit to a stance grounded in the debate's strongest arguments.
											
											Additionally, develop a detailed investment plan for the trader. This should include:
											
											Your Recommendation: A decisive stance supported by the most convincing arguments.
											Rationale: An explanation of why these arguments lead to your conclusion.
											Strategic Actions: Concrete steps for implementing the recommendation.
											Take into account your past mistakes on similar situations. Use these insights to refine your decision-making and ensure you are learning and improving. Present your analysis conversationally, as if speaking naturally, without special formatting. 
											
											Here are your past reflections on mistakes:
											\"{past_memory_str}\"
											
											Here is the debate:
											Debate History:
											{history}"""
        response = llm.invoke(prompt)

        new_investment_debate_state = {
            "judge_decision": response.content,
            "history": investment_debate_state.get("history", ""),
            "bear_history": investment_debate_state.get("bear_history", ""),
            "bull_history": investment_debate_state.get("bull_history", ""),
            "current_response": response.content,
            "count": investment_debate_state["count"],
        }

        return {
            "investment_debate_state": new_investment_debate_state,
            "investment_plan": response.content,
        }
```

![image.png](/static/img/monthly_pseudorec_mcp/41/image 2.png)

---

# ì°¸ê³  ìë£Œ

[Multi-Agent Debate Strategies](https://www.emergentmind.com/topics/multi-agent-debate-mad-strategies)

[TauricResearch/TradingAgents | DeepWiki](https://deepwiki.com/TauricResearch/TradingAgents)

[Multi-agent - Docs by LangChain](https://docs.langchain.com/oss/python/langchain/multi-agent)