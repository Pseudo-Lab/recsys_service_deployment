{% load static %}
<!DOCTYPE html >
<html>

<head>
    <meta http-equiv="content-type" content="text/html;charset=utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title> PseudoRec </title>
    <link rel="icon" href="{% static 'img/favicon.ico' %}">

    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <script src="https://kit.fontawesome.com/6998928b29.js" crossorigin="anonymous"></script>
    <script src="static/js/isotope.pkgd.min.js"></script>
    <script defer src="static/js/main.js"></script>
    <script defer src="static/js/star.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="{% static 'js/click_logger.js' %}"></script>
    <script src="{% static 'js/delete_movie.js' %}"></script>

</head>
<body>

<header>
    <h1>PSEUDO REC</h1>
    <div class="input">
        <form method="POST">
            {% csrf_token %}
            <label>본 영화</label>
            <input name="watched_movie" type="text">
            <button>입력</button>
        </form>
    </div>


    <div class="watched_list" id="watched_list">
        {% for wm in watched_movie %}
            <div class="movie_item">
                <p>{{ wm }} <span class="delete_button" data-movie-index="{{ forloop.counter0 }}">X</span></p>
            </div>
        {% endfor %}
    </div>



 
    <ul>
        <li>
            <a href="https://www.notion.so/chanrankim/86625e8a719244c68fe61d17472aa50a?pvs=4" target="blank">
                <i class="fa-solid fa-n"></i>
                <span>Notion</span>
            </a>
        </li>
        <li>
            <a href="https://github.com/Pseudo-Lab/recsys_service_deployment" target="blank">
                <i class="fa-brands fa-github"></i>
                <span>Github</span>
            </a>
        </li>
        <li>
            <a href="/users/logout/">
                <i class="fa-solid fa-right-from-bracket"></i>
                <span class="logout">Logout</span>
            </a>
        </li>
    </ul>

</header>


<main>
    <ul>
        <!--        <li><a href=".bert4rec">BERT4Rec</a></li>-->
        <li><a href=".kprn">KPRN</a></li>
        <!--        <li><a href=".srgnn">SR-GNN</a></li>-->
        <li><a href=".gru4rec">GRU4Rec</a></li>
        <!--        <li><a href=".pinsage">PinSage</a></li>-->
        <!--        <li><a href=".fpmc">FPMC</a></li>-->
        <li><a href=".ngcf">NGCF</a></li>
        <li><a href=".sasrec">SASRec</a></li>
        <li class="on"><a href=".pop">인기 영화</a></li>
        <!--        <li class='on'><a href="*">당신을 위한 추천</a></li>-->
    </ul>

    <section>
        {% for r in pop_movies %}
        <article class='pop'>
            <div class="movie">
                <img src={{ r.url }} alt="">
                <h2>{{ r.title }}</h2>
                <p>{{ r.genres }}</p>
                <div class="rating_box">
                    <div class="rating">
                        ★★★★★
                        <span class="rating_star">★★★★★</span>
                        <input type="range" value="0" step="1" min="0" max="10">
                    </div>
                </div>
            </div>


        </article>
        {% endfor %}

        {% for r in recomm_result %}
        <article class='sasrec'>
            <div class="movie">
                <img src={{ r.url }} alt="">
                <h2>{{ r.title }}</h2>
                <p>{{ r.genres }}</p>
                <div class="rating_box">
                    <div class="rating">
                        ★★★★★
                        <span class="rating_star">★★★★★</span>
                        <input type="range" value="0" step="1" min="0" max="10">
                    </div>
                </div>
            </div>
        </article>
        {% endfor %}

    </section>
</main>

</body>

</html>
