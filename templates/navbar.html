{% load socialaccount %}
{% load static %}
<link rel="stylesheet" href="{% static 'css/navbar.css' %}?v=20251201">
<link rel="stylesheet" href="{% static 'css/login_modal.css' %}">

<div class="group">
    <ul class="navigation">
        <li style="padding: 0;">
            <a href="/" id="navbarLogo" style="display: flex; align-items: center; padding: 8px; text-decoration: none;">
                <span style="font-size: 1.6em; font-weight: 1000; background: linear-gradient(90deg, #7B5FCC 0%, #6BA8DC 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; text-transform: none;">ListeneRS</span>
            </a>
        </li>
        <li><a href="/archive/" {% if request.path|slice:":9" == '/archive/' %}class="active"{% endif %}>Study Archive</a></li>
        <li><a href="/trading_agent/" {% if request.path|slice:":16" == '/trading_agent/' %}class="active"{% endif %}>Trading Agent</a></li>
        <li class="dropdown">
            <a href="/movie_recommendation/" {% if request.path|slice:":22" == '/movie_recommendation/' or request.path|slice:":8" == '/llmrec/' %}class="active"{% endif %}>
                Movie Recommendation Demos
            </a>
            <ul class="dropdown-menu">
                <li><a href="/movie_recommendation/">ML/DL Models</a></li>
                <li><a href="/llmrec/">LLM Recommendation Demos</a></li>
            </ul>
        </li>
        <li><a href="/about_us/" {% if request.path|slice:":10" == '/about_us/' %}class="active"{% endif %}>About Us</a></li>
        {% if user.is_authenticated %}
        <li><a href="/users/logout/">Log Out</a></li>
        <li><a id="navbarUserName">ðŸ‘‹ Hi, {{ user.username }}</a></li>
        {% else %}
        <li id="modalOpenButton"><a>Log In</a></li>
        {% endif %}
    </ul>
</div>

<!--Modal-->
<div id="modalContainer" class="hidden">
    <div id="modalContent">
        <button id="modalCloseButton">X</button>
        <ul>
             <li><a href="{% provider_login_url 'google' %}"><i class="fa-brands fa-google"></i>Log in with Google</a></li>
            <li><a href="/users/login/"><i class="fa-solid fa-signature"></i>Log in with Nickname</a></li>
        </ul>

    </div>
</div>



<script>
    const modalOpenButton = document.getElementById('modalOpenButton');
    const modalCloseButton = document.getElementById('modalCloseButton');
    const modal = document.getElementById('modalContainer');

    if (modalOpenButton) {
        modalOpenButton.addEventListener('click', () => {
            modal.style.display = "flex";
        });
    }

    if (modalCloseButton) {
        modalCloseButton.addEventListener('click', () => {
            modal.style.display = "none";
        });
    }
</script>
